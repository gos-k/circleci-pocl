machine:
    environment:
        LISP: sbcl-bin
        PATH: ~/.roswell/bin:$PATH
        CXX: g++-4.8

checkout:
    pre:
        - curl -L https://raw.githubusercontent.com/snmsts/roswell/master/scripts/install-for-ci.sh | sh

dependencies:
    pre:
        - sudo bash -c 'echo "deb http://mirrors.kernel.org/ubuntu wily main universe" >> /etc/apt/sources.list'
        - sudo apt-get update
        - sudo apt-get install -y pkg-config libhwloc-dev llvm-3.7-dev clang-3.7 libclang-3.7-dev ocl-icd-opencl-dev libedit-dev g++-4.8
        - wget http://portablecl.org/downloads/pocl-0.13.tar.gz && tar xzf pocl-0.13.tar.gz
        - cd pocl-0.13/ && ./configure && make && sudo make install

